<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>API de Paris - Documentation du Gestionnaire: DataStorage Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">API de Paris - Documentation du Gestionnaire<span id="projectnumber">&#160;v0.1</span>
   </div>
   <div id="projectbrief">Documentation pour le gestionnaire d&#39;API de Paris.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classDataStorage.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classDataStorage-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">DataStorage Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Responsible for persisting data in JSON format.  
 <a href="classDataStorage.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="dataStorage_8h_source.html">dataStorage.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for DataStorage:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classDataStorage__coll__graph.png" border="0" usemap="#aDataStorage_coll__map" alt="Collaboration graph"/></div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a22825d40495dae6a5df46d629fb26a3f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDataStorage.html#a22825d40495dae6a5df46d629fb26a3f">DataStorage</a> ()</td></tr>
<tr class="memdesc:a22825d40495dae6a5df46d629fb26a3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor for <a class="el" href="classDataStorage.html" title="Responsible for persisting data in JSON format.">DataStorage</a>.  <a href="classDataStorage.html#a22825d40495dae6a5df46d629fb26a3f">More...</a><br /></td></tr>
<tr class="separator:a22825d40495dae6a5df46d629fb26a3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3574d849493097410d0879263706ee69"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDataStorage.html#a3574d849493097410d0879263706ee69">saveToFile</a> (const std::map&lt; std::string, nlohmann::json &gt; &amp;data, const std::string &amp;filename)</td></tr>
<tr class="memdesc:a3574d849493097410d0879263706ee69"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves the provided data to the given file.  <a href="classDataStorage.html#a3574d849493097410d0879263706ee69">More...</a><br /></td></tr>
<tr class="separator:a3574d849493097410d0879263706ee69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a898ad89ba95776da063f62c95677f78c"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, nlohmann::json &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDataStorage.html#a898ad89ba95776da063f62c95677f78c">readFromFile</a> (const std::string &amp;filename)</td></tr>
<tr class="memdesc:a898ad89ba95776da063f62c95677f78c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads data from the given file.  <a href="classDataStorage.html#a898ad89ba95776da063f62c95677f78c">More...</a><br /></td></tr>
<tr class="separator:a898ad89ba95776da063f62c95677f78c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a4f7c8d0fc570f9ca75609f004974fa0b"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDataStorage.html#a4f7c8d0fc570f9ca75609f004974fa0b">getValidFilePath</a> (const std::string &amp;filename)</td></tr>
<tr class="memdesc:a4f7c8d0fc570f9ca75609f004974fa0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to validate and get the file path.  <a href="classDataStorage.html#a4f7c8d0fc570f9ca75609f004974fa0b">More...</a><br /></td></tr>
<tr class="separator:a4f7c8d0fc570f9ca75609f004974fa0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a1b36b28a8ce65819497dfdb1e03e66d1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classFileHelper.html">FileHelper</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDataStorage.html#a1b36b28a8ce65819497dfdb1e03e66d1">fileHelper</a></td></tr>
<tr class="memdesc:a1b36b28a8ce65819497dfdb1e03e66d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper object for file-related operations.  <a href="classDataStorage.html#a1b36b28a8ce65819497dfdb1e03e66d1">More...</a><br /></td></tr>
<tr class="separator:a1b36b28a8ce65819497dfdb1e03e66d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Responsible for persisting data in JSON format. </p>
<p >The class allows saving of data items to files and reading them back. Data items are represented as JSON objects and are mapped to string keys for easy access and manipulation. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a22825d40495dae6a5df46d629fb26a3f" name="a22825d40495dae6a5df46d629fb26a3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22825d40495dae6a5df46d629fb26a3f">&#9670;&nbsp;</a></span>DataStorage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DataStorage::DataStorage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default constructor for <a class="el" href="classDataStorage.html" title="Responsible for persisting data in JSON format.">DataStorage</a>. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a4f7c8d0fc570f9ca75609f004974fa0b" name="a4f7c8d0fc570f9ca75609f004974fa0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f7c8d0fc570f9ca75609f004974fa0b">&#9670;&nbsp;</a></span>getValidFilePath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string DataStorage::getValidFilePath </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper function to validate and get the file path. </p>
<p >Uses the <a class="el" href="classFileHelper.html" title="Utility class for file and directory management.">FileHelper</a> object to retrieve the file path and checks its validity. If it's invalid, throws an exception. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>The name of the file for which to get the path. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::string The valid file path for the given filename. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::runtime_error</td><td>if unable to retrieve the user's home directory. </td></tr>
  </table>
  </dd>
</dl>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classDataStorage_a4f7c8d0fc570f9ca75609f004974fa0b_cgraph.png" border="0" usemap="#aclassDataStorage_a4f7c8d0fc570f9ca75609f004974fa0b_cgraph" alt=""/></div>
</div>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classDataStorage_a4f7c8d0fc570f9ca75609f004974fa0b_icgraph.png" border="0" usemap="#aclassDataStorage_a4f7c8d0fc570f9ca75609f004974fa0b_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="a898ad89ba95776da063f62c95677f78c" name="a898ad89ba95776da063f62c95677f78c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a898ad89ba95776da063f62c95677f78c">&#9670;&nbsp;</a></span>readFromFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt; std::string, nlohmann::json &gt; DataStorage::readFromFile </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads data from the given file. </p>
<p >Accesses the given file and extracts the stored JSON data. The data is then returned in the form of a map. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>The name of the file from which to read the data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::map&lt;std::string, nlohmann::json&gt; A map of data items. </dd></dl>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classDataStorage_a898ad89ba95776da063f62c95677f78c_cgraph.png" border="0" usemap="#aclassDataStorage_a898ad89ba95776da063f62c95677f78c_cgraph" alt=""/></div>
</div>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classDataStorage_a898ad89ba95776da063f62c95677f78c_icgraph.png" border="0" usemap="#aclassDataStorage_a898ad89ba95776da063f62c95677f78c_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="a3574d849493097410d0879263706ee69" name="a3574d849493097410d0879263706ee69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3574d849493097410d0879263706ee69">&#9670;&nbsp;</a></span>saveToFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DataStorage::saveToFile </td>
          <td>(</td>
          <td class="paramtype">const std::map&lt; std::string, nlohmann::json &gt; &amp;&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>filename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Saves the provided data to the given file. </p>
<p >Reads existing data from the file (if it exists), merges with the new data, and saves the combined data back to the file. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The data to be saved. </td></tr>
    <tr><td class="paramname">filename</td><td>The name of the file to which the data will be saved. </td></tr>
  </table>
  </dd>
</dl>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classDataStorage_a3574d849493097410d0879263706ee69_cgraph.png" border="0" usemap="#aclassDataStorage_a3574d849493097410d0879263706ee69_cgraph" alt=""/></div>
</div>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classDataStorage_a3574d849493097410d0879263706ee69_icgraph.png" border="0" usemap="#aclassDataStorage_a3574d849493097410d0879263706ee69_icgraph" alt=""/></div>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a1b36b28a8ce65819497dfdb1e03e66d1" name="a1b36b28a8ce65819497dfdb1e03e66d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b36b28a8ce65819497dfdb1e03e66d1">&#9670;&nbsp;</a></span>fileHelper</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classFileHelper.html">FileHelper</a> DataStorage::fileHelper</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper object for file-related operations. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/storage/<a class="el" href="dataStorage_8h_source.html">dataStorage.h</a></li>
<li>src/storage/<a class="el" href="dataStorage_8cpp.html">dataStorage.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classDataStorage.html">DataStorage</a></li>
    <li class="footer">Generated on Fri Sep 22 2023 17:03:35 for API de Paris - Documentation du Gestionnaire by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
